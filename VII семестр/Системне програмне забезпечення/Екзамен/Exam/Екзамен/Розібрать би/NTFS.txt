NTFS  выросла  из  файловой  системы  HPFS, разрабатываемой совместно IBM и
Microsoft  для  проекта OS/2. Она начала использоваться вместе с Windows NT
3.1  в 1993 году. Windows NT 3.1 должна была составить конкуренцию серверам
на  базе  NetWare  и  Unix,  поэтому  NTFS  вобрала  в  себя  все тогдашние
технологические достижения. Вот основные из них:

1. Работа  с  большими  дисками.  NTFS  имеет  размер кластера 512 байт, что в
принципе  оптимально,  но его можно менять до 64К. Более важно то, что NTFS
способна  теоретически  работать  с  томами размером в 16,777,216 терабайт.
Теоретически,  потому что таких жестких дисков пока просто не существует, и
появятся они весьма не скоро.

2. Устойчивость.  NTFS  содержит две копии аналога FAT, которые называются MFT
(Master  File Table). В отличие от FAT MSDOS, MFT больше напоминает таблицу
базы  данных.  Если  оригинал  MFT  повреждён  в  случае  аппаратной ошибки
(например,  появления  bad-сектора),  то  система  при  следующей  загрузке
использует  копию MFT, и автоматически создаёт новый оригинал, уже с учётом
повреждений.  Но это не самое главное. Главное, что NTFS использует систему
транзакций  при  записи  файлов  на  диск.  Эта система пришла из СУБД, где
защита  целостности  данных  -  жизненно  важное дело. Уже это говорит о её
эффективности. В упрощённом виде она работает так:

  1) Драйвер  ввода/вывода  NTFS инициирует процесс записи, одновременно сообщая
     сервису Log File Service вести лог всего происходящего.

  2) Данные пишутся в кэш, под управлением сервиса Cache Manager. 

  3) Cache   Manager   посылает   данные  Virtual  Memory  Manager-у  (менеджеру
     виртуальной памяти), для записи на диск в фоновом режиме.
  4) Virtual  Memory  Manager посылает данные драйверу диска, пропустив их через
     Fault Tolerant Driver (если у вас массив дисков RAID).

  5) Драйвер  диска  шлёт  их контроллеру, который уже пишет их либо в кэш, либо
     прямо на диск.

     Если эта операция проходит без ошибок, запись лога удаляется. 
     Если  происходит  сбой,  запись  лога  остается в таблице транзакций, и при
     следующем  доступе  к  диску  Log  File  Service обнаруживает эту запись, и
     просто восстанавливает всё как было до этой операции.

Такая   система   гарантирует   абсолютную   сохранность  данных  в  случае
копирования,  перемещения  и  удаления  файлов или директорий. При внесении
изменений в файл, вы теряете те изменения, которые находились в момент сбоя
в памяти или в кэше контроллера, и не успели записаться на диск.

3. Защищенность. NTFS рассматривает файлы, как объекты. Каждый файловый объект
обладает  свойствами,  такими  как  его имя, дата создания, дата последнего
обновления,  архивный  статус,  и  дескриптор безопасности. Файловый объект
также  содержит  набор методов, которые позволяют с ним работать, такие как
open,  close,  read и write. Пользователи, включая сетевых, для обращения к
файлу  вызывают  эти методы, а Security Reference Monitor определяет, имеет
ли  пользователь  необходимые права для вызова какого-либо из этих методов.
Кроме  этого,  файлы  можно  шифровать.  Правда,  с  шифрованием стоит быть
осторожнее.  Если  у  вас рухнет система, или вы её переустановите то вы не
сможете прочитать зашифрованные файлы, если не имеете ERD.

4. Компрессия  данных.  NTFS  позволяет  компрессировать  отдельные каталоги и
файлы,  в  отличие  от  DriveSpace,  который  позволял сжимать только диски
целиком.  Это  очень  удобно,  для экономии пространства на диске, например
можно  сжимать  "на  лету"  большие  графические  файлы  формата  BMP,  или
текстовые файлы, причём для пользователя всё это будет прозрачно.

5. Поддержка   формата  ISO  Unicode.  Формат  Unicode  использует  16bit  для
кодировки  каждого  символа,  в отличие от ASCII, который использовал 8bit,
или  ещё хуже - 7bit. Для простого пользователя это означает то, что теперь
он  может  называть  файлы  на любом языке, хоть на китайском - система это
будет  поддерживать, не требуя изменить кодовую страницу, как это делал DOS
и W9x.
