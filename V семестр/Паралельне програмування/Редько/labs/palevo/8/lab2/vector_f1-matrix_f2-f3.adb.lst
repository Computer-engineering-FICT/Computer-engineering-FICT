GNAT GPL 2009 (20090519)
Copyright 1992-2009, Free Software Foundation, Inc.

Compiling: vector_f1-matrix_f2-f3.adb (source file time stamp: 2009-09-16 21:03:46)

     1. with Ada.Text_IO; use Ada.Text_IO;
     2. package body Vector_F1.Matrix_F2.F3 is
     3.
     4.    -- Nahojdenie minimal'nogo elementa vektora
     5.    function Vector_Min(A: in Vector) return Integer is
     6.       min: Integer;
     7.    begin
     8.       min:=A(1);
     9.       for i in 1..N loop
    10.          if A(i)<min then
    11.             min:=A(i);
    12.          end if;
    13.       end loop;
    14.       return min;
    15.    end Vector_Min;
    16.
    17.
    18.    -- Raznost' vektorov
    19.    function Vector_Difference(A,B: Vector) return Vector is
    20.       C: Vector;
    21.    begin
    22.       for i in 1..N loop
    23.             C(i):=A(i)-B(i);
    24.       end loop;
    25.       return C;
    26.    end Vector_Difference;
    27.
    28.    -- Umnojenie maricy na vektor
    29.    function Vector_Matrix_Product(MA: Matrix; A: Vector)
    30.                                   return Vector is
    31.       V: Vector;
    32.       Sum: Integer;
    33.    begin
    34.       for i in 1..N loop
    35.          Sum:=0;
    36.          for j in 1..N loop
    37.             Sum:=Sum+A(j)*MA(j)(i);
    38.          end loop;
    39.          V(i):=Sum;
    40.       end loop;
    41.       return V;
    42.    end Vector_Matrix_Product;
    43.
    44.    -- Transponirovanie matricy
    45.    function Matrix_Trans(MA: Matrix) return Matrix is
    46.       M: Matrix;
    47.    begin
    48.       for i in 1..N loop
    49.          for j in 1..N loop
    50.             M(i)(j):=MA(j)(i);
    51.          end loop;
    52.       end loop;
    53.       return M;
    54.    end Matrix_Trans;
    55.
    56.    -- Funkciya3
    57.    function Fun3(MB: Matrix; A,C: Vector) return Integer is
    58.       d: Integer;
    59.    begin
    60.       d:=Vector_Min(Vector_Difference((Vector_Matrix_Product(
    61.         Matrix_Trans(MB),
    62.         A)),Vector_Matrix_Product(MB,Vector_Sort(C,False))));
    63.       return d;
    64.    exception
    65.       when Constraint_Error =>
    66.          put("Constraint error at Func3. Result is uncorrect:");
    67.       return d;
    68.    end Fun3;
    69.
    70. end Vector_F1.Matrix_F2.F3;
    71.

Compiling: vector_f1-matrix_f2-f3.ads (source file time stamp: 2009-09-15 20:05:18)

     1. generic
     2.
     3. package Vector_F1.Matrix_F2.F3 is
     4.
     5.    -- Funkciya3
     6.    function Fun3(MB: Matrix; A,C: Vector) return Integer;
     7.
     8. end Vector_F1.Matrix_F2.F3;

 71 lines: No errors
