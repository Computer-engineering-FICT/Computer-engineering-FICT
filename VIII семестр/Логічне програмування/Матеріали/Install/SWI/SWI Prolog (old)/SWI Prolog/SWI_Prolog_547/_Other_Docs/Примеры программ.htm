<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0077)http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/11_number_task/index.html -->
<HTML><HEAD><TITLE>Примеры программ</TITLE>
<META http-equiv=Content-Type content="text/html; charset=koi8-r"><LINK 
href="Примеры&nbsp;программ.files/list.css" type=text/css rel=stylesheet>
<SCRIPT language=javascript1.2 
src="Примеры&nbsp;программ.files/cookie.js">
</SCRIPT>

<SCRIPT language=javascript1.2>
function onLoad () {
  parent.nav.set_cookie ("Source", "./ch_10_prolog/11_number_task/index.html", 1000);
}
</SCRIPT>

<META content="MSHTML 6.00.2900.2180" name=GENERATOR></HEAD>
<BODY><A 
href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/10_arifm/index.html"><IMG 
alt="Предыдущий раздел" src="Примеры&nbsp;программ.files/prev.gif" border=0></A> 
<A href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/index.html"><IMG 
alt="Уровень выше" src="Примеры&nbsp;программ.files/up.gif" border=0></A> <A 
href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/12_list/index.html"><IMG 
alt="Следующий раздел" src="Примеры&nbsp;программ.files/next.gif" border=0></A> 
<A onmousedown="document.images['cont'].src='../../Images/ContentsDown.gif'" 
onmouseout="document.images['cont'].src='../../Images/Contents.gif'" 
href="http://www.ctc.msiu.ru/materials/Book2/contents.html"><IMG 
src="Примеры&nbsp;программ.files/Contents.gif" border=0 name=cont></A> 
<H2>Примеры программ</H2><IMG src="Примеры&nbsp;программ.files/blank.gif"> 
<P>Рассмотрим некоторые программы, демонстрирующие обработку числовых данных. 
Отметим важную особенность процедур, создаваемых на языке Пролог: они, в отличии 
от встроенных функций, не могут появляться в арифметических выражениях. Если 
требуется, например, переменной <TT>R</TT> присвоить значение, равное 
умноженному на три большему из двух выражений <TT>X</TT> и <TT>Y</TT>, то, 
используя определенную ниже процедуру <TT>максимум</TT>, это можно записать так: 
<PRE>максимум(X,Y,Z), R is 3*Z.
</PRE>
<DIV class=NOPRINT><A 
href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/11_number_task/max.pl">(скачать 
файл с примерами)</A> </DIV>
<P></P>
<P><BR><B>Пример</B><BR>Написать процедуру, вычисляющую максимум из двух чисел. <PRE>максимум(X,X,X).
максимум(X,Y,X):- X&gt;Y.
максимум(X,Y,Y):- X&lt;Y.
</PRE>В предикате <TT>максимум/3</TT> третий аргумент является максимумом из 
двух чисел - первого и второго его аргументов. Смысл каждого из правил данной 
процедуры вполне очевиден. Посмотрим на реакцию интерпретатора Пролога на 
запросы, содержащие данный предикат. <PRE>?- максимум(20,50,X).
X = 50
Yes

?- максимум(100,50,X).
X = 100
Yes

?- максимум(X,50,100).
X = 100
Yes
</PRE>Последний ответ показывает, что наш предикат позволяет находить ответ на 
вопросы типа: "Каково должно быть число, чтобы максимум из искомого числа и 
числа 50 равнялся бы 100?". 
<P>Как вы думаете, почему был получен ответ "No" на следующий запрос? <PRE>?- максимум(X,50,40).
No
</PRE>
<P><BR><B>Пример</B><BR>Составьте процедуру <TT>гипотенуза/3</TT>, которая по 
двум катетам прямоугольного треугольника вычисляет его гипотенузу. 
<P>Воспользуемся теоремой Пифагора и встроенной функцией <TT>sqrt</TT> для 
вычисления квадратного корня: <PRE>гипотенуза(X,Y,Z):- Z is sqrt(X**2 + Y**2).
</PRE>Программа корректно вычисляет гипотенузу, но если мы попробуем при ее 
помощи найти один из катетов, то убедимся, что процедура работает не вполне 
правильно. Чтобы избежать этого добавим проверку того, что первые два аргумента 
предиката - положительные числа, для чего используем встроенный предикат 
<TT>number/1</TT> и сравнение с нулем: <PRE>гипотенуза(X,Y,Z):- number(X), X&gt;0, number(Y), Y&gt;0,
                    Z is sqrt(X**2 + Y**2).
</PRE>Теперь наша программа работает корректно: <PRE>?- гипотенуза(3,4,X).
X = 5
Yes

?- гипотенуза(3,'a',X).
No

?- гипотенуза(3,X,5).
No
</PRE>
<P><BR><B>Пример</B><BR>Напишите предикат, который по двум парам чисел - длинам 
катетов прямоугольных треугольников - определяет величину меньшей из гипотенуз. 
<P>Воспользуемся процедурой <TT>гипотенуза/3</TT>, разобранной выше, и 
встроенной функцией <TT>min/2</TT>: <PRE>мин_гип(A1,B1,A2,B2,Min):-
                   гипотенуза(A1,B1,C1),
                   гипотенуза(A2,B2,C2),
                   Min is min(C1,C2).
</PRE>Запросы к интерпретатору Пролога могут выглядеть так: <PRE>?- мин_гип(3,4,8,6,X).
X = 5
Yes

?- мин_гип(3,4,Y,6,X).
No
</PRE>
<P><BR><B>Пример</B><BR>Факториалом натурального числа <TT>n</TT> называют 
произведение всех целых чисел от 1 до <TT>n</TT> включительно. Для записи 
факториала числа <TT>n</TT> используют обозначение <TT>n!</TT>. 
<BLOCKQUOTE>
  <DIV class=text><PRE>          n!=n*(n-1)*(n-2)*...*2*1=n*(n-1)!
</PRE></DIV></BLOCKQUOTE>
<P>Следующая процедура вычисляет факториал числа. Обратите внимание на 
использование <EM>рекурсии</EM> в данной процедуре: <PRE>факториал(1,1).
факториал(N,R):- integer(N), N&gt;1, N1 is N-1, 
                 факториал(N1,R1), R is N*R1.
</PRE>
<P>Первое правило (так называемый терминальный случай, то есть тот момент 
выполнения процедуры, когда она перестает вызывать сама себя) гласит, что 
факториал единицы равен единице. Второе правило есть просто запись определения 
факториала: результат <TT>R</TT> получается умножением числа <TT>N</TT> на 
факториал числа, на единицу меньшего. Оно будет срабатывать при всех 
<TT>n&gt;1</TT> потому, что интерпретатор Пролога просматривает базу данных 
сверху вниз и переходит к следующему правилу или факту только в том случае, 
когда он не может выполнить текущее правило. 
<P><BR><B>Пример</B><BR>Напишите программу на языке Пролог, печатающую сумму 
всех цифр введенного с клавиатуры числа. 
<P>Для решения данной задачи воспользуемся двумя предикатами. Предикат 
<TT>сумма/2</TT> имеет своим первым аргументом число, сумма цифр которого 
является его вторым аргументом. Второй предикат - <TT>печать_суммы/0</TT> - 
запрашивает число, вызывает предикат <TT>сумма/2</TT> и печатает полученный 
результат. <PRE>сумма(X,Y):- integer(X), X&lt;10, Y is X.
сумма(X,Y):- integer(X), X1 is X//10, сумма(X1,Y1),  
             Z is X mod 10, Y is Y1+Z.

печать_суммы:-  write('Введите число (в конце точка): '),
                read(X), nl, сумма(X,Y),
                write('Сумма цифр  числа '), write(X), 
		write(' равна '), write(Y), nl.
</PRE>
<P>Правило <TT>печать_суммы</TT> не имеет аргументов, данные вводятся с 
клавиатуры и затем, при помощи механизма унификации, передаются другим подцелям 
данного правила. 
<P><BR><B>Пример</B><BR>Напишите программу на языке Пролог, вводящую с 
клавиатуры два числа - координаты точки на плоскости и определяющую, попадает ли 
данная точка в круг единичного радиуса с центром в начале координат. <PRE>inside(X,Y,попадает):- number(X), number(Y), 
                       X**2+Y**2=&lt;1.
inside(X,Y,не_попадает):-number(X), number(Y), 
                       X**2+Y**2&gt;1.

/* Ввести два числа и вызвать предикат inside/3 */

input:-write('Введите x-координату: '),
       read(X), nl,
       write('Введите y-координату: '),
       read(Y), nl,
       inside(X,Y,R), write(R).

</PRE>
<P><BR><B>Задание</B><BR>Напишите процедуры на языке Пролог для решения 
следующих задач и приведите примеры использования этих процедур. 
<OL>
  <LI>Измените последнюю из рассмотренных программ так, чтобы пользователь мог 
  ввести координаты центра круга. 
  <LI>Найдите количество цифр во введенном числе. 
  <LI>Определите максимальную цифру введенного числа. 
  <LI>Одноклеточная амеба каждые 3 часа делится на 2 клетки. Определите, сколько 
  клеток будет через N часов (N=3, 6, ..., 24, т.&nbsp;е. кратно 3), если 
  первоначально была одна амеба. </LI></OL><BR clear=all><A 
href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/10_arifm/index.html"><IMG 
alt="Предыдущий раздел" src="Примеры&nbsp;программ.files/prev.gif" border=0></A> 
<A href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/index.html"><IMG 
alt="Уровень выше" src="Примеры&nbsp;программ.files/up.gif" border=0></A> <A 
href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/12_list/index.html"><IMG 
alt="Следующий раздел" src="Примеры&nbsp;программ.files/next.gif" border=0></A> 
</BODY></HTML>
