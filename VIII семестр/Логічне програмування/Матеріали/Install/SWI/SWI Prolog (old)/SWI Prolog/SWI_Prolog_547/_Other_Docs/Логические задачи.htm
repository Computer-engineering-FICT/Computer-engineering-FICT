<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0076)http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/09_logik_task/index.html -->
<HTML><HEAD><TITLE>Логические задачи</TITLE>
<META http-equiv=Content-Type content="text/html; charset=koi8-r"><LINK 
href="Логические&nbsp;задачи.files/list.css" type=text/css rel=stylesheet>
<SCRIPT language=javascript1.2 
src="Логические&nbsp;задачи.files/cookie.js">
</SCRIPT>

<SCRIPT language=javascript1.2>
function onLoad () {
  parent.nav.set_cookie ("Source", "./ch_10_prolog/09_logik_task/index.html", 1000);
}
</SCRIPT>

<META content="MSHTML 6.00.2900.2180" name=GENERATOR></HEAD>
<BODY><A 
href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/08_programm/index.html"><IMG 
alt="Предыдущий раздел" src="Логические&nbsp;задачи.files/prev.gif" 
border=0></A> <A 
href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/index.html"><IMG 
alt="Уровень выше" src="Логические&nbsp;задачи.files/up.gif" border=0></A> <A 
href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/10_arifm/index.html"><IMG 
alt="Следующий раздел" src="Логические&nbsp;задачи.files/next.gif" border=0></A> 
<A onmousedown="document.images['cont'].src='../../Images/ContentsDown.gif'" 
onmouseout="document.images['cont'].src='../../Images/Contents.gif'" 
href="http://www.ctc.msiu.ru/materials/Book2/contents.html"><IMG 
src="Логические&nbsp;задачи.files/Contents.gif" border=0 name=cont></A> 
<H2>Решение логических задач</H2><IMG 
src="Логические&nbsp;задачи.files/blank.gif"> 
<P>Интерпретатор Пролога можно заставить решать логические задачи, что 
недоступно большинству процедурных языков. 
<P>Многие логические задачи связаны с рассмотрением нескольких конечных множеств 
с одинаковым количеством элементов, между которыми устанавливается 
взаимно-однозначное соответствие. На языке Пролог эти множества можно описывать 
как базы данных, а зависимости между объектами устанавливать с помощью правил. 
<P><BR><B>Пример</B><BR>В автомобильных гонках три первых места заняли Алеша, 
Петя и Коля. Какое место занял каждый из них, если Петя занял не второе и не 
третье место, а Коля - не третье? </P>
<TABLE align=center border=1>
  <TBODY>
  <TR>
    <TD>Имя</TD>
    <TD>I место</TD>
    <TD>II место</TD>
    <TD>III место</TD></TR>
  <TR>
    <TD>Алеша</TD>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD></TR>
  <TR>
    <TD>Петя</TD>
    <TD>&nbsp;</TD>
    <TD align=middle>-</TD>
    <TD align=middle>-</TD></TR>
  <TR>
    <TD>Коля</TD>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD>
    <TD align=middle>-</TD></TR></TBODY></TABLE>
<P>Традиционным способом задача решается заполнением таблицы.По условию задачи 
Петя занял не второе и не третье место, а Коля - не третье. Это позволяет 
поставить символ <TT>'-'</TT> в соответствующих клетках. Между множеством имен 
участников гонки и множеством мест должно быть установлено взаимно-однозначное 
соответствие. Поэтому определяем занятое место сначала у Пети, затем у Коли и, 
наконец, у Алеши. В соответствующих клетках проставляем знак <TT>'+'</TT>. В 
каждой строке и каждом столбце должен быть только один такой знак. </P>
<TABLE align=center border=1>
  <TBODY>
  <TR>
    <TD>Имя</TD>
    <TD>I место</TD>
    <TD>II место</TD>
    <TD>III место</TD></TR>
  <TR>
    <TD>Алеша</TD>
    <TD align=middle>-</TD>
    <TD align=middle>-</TD>
    <TD align=middle>+</TD></TR>
  <TR>
    <TD>Петя</TD>
    <TD align=middle>+</TD>
    <TD align=middle>-</TD>
    <TD align=middle>-</TD></TR>
  <TR>
    <TD>Коля</TD>
    <TD align=middle>-</TD>
    <TD align=middle>+</TD>
    <TD align=middle>-</TD></TR></TBODY></TABLE>
<P>Из последней таблицы следует, что Алеша занял третье место, Петя - первое, 
Коля - второе. 
<P>На языке Пролог структура программы будет следующей: сначала перечисляются 
данные - имена и номер занятого места, а затем записываются правила, связывающие 
эти два множества. <PRE>/* База данных имен */
имя(алеша).
имя(петя).
имя(коля).

/* База данных призовых мест  */
место(первое).
место(второе).
место(третье).

/* Устанавливаем взаимно-однозначное соответствие
между базами данных, X - элемент из базы данных имен, 
Y - элемент из базы данных занятых мест */

/* Петя занял не второе и не третье место */
соответствие(X, Y) :- имя(X),  X=петя,  
         место(Y), not(Y=второе), not(Y=третье).

/* Коля занял не третье место */
соответствие(X, Y) :- имя(X), X=коля, 
         место(Y), not(Y=третье).

соответствие(X, Y) :- имя(X),  X=алеша, место(Y).

/* У всех ребят разные места */
решение(X1,Y1,X2,Y2,X3,Y3) :- 
         X1=петя, соответствие(X1,Y1), 
         X2=коля, соответствие(X2,Y2),
         X3=алеша, соответствие(X3,Y3), 
         Y1\=Y2, Y2\=Y3, Y1\=Y3.
</PRE>
<P>Для получения ответа следует выполнить запрос <PRE>?- решение(X1,Y1,X2,Y2,X3,Y3).
</PRE>
<P>В ответ Пролог выдаст имена ребят и занятые ими места. Проверьте, есть ли 
другие варианты ответов. 
<P><BR><B>Пример</B><BR>Витя, Юра и Миша сидели на скамейке. В каком порядке они 
сидели, если известно, что Миша сидел слева от Юры, а Витя слева от Миши. 
<P>В условии задачи перечисляются объекты одного типа, связанные между собой. 
Заполним базу данных: <PRE>/* Миша сидел слева от Юры  */
слева(юра,миша).

/* Витя сидел слева от Миши */
слева(миша,витя).
</PRE>
<P>Правило для установления следования объектов друг за другом будет таким: <PRE>/* Объекты X, Y и Z образуют ряд,
если X слева от Y и Y слева от Z */

ряд(X, Y, Z) :- слева(Y, X), слева(Z, Y).
</PRE>
<P>Количество аргументов в голове данного правила равно количеству объектов в 
задаче. Запрос <PRE>?- ряд(X, Y, Z).
</PRE>даст нам решение задачи. 
<P><BR><B>Задание</B><BR>Решите следующие логические задачи с помощью 
интерпретатора Пролога. 
<OL>
  <LI>Трое ребят вышли гулять с собакой, кошкой и хомячком. Известно, что Петя 
  не любит кошек и живет в одном подъезде с хозяйкой хомячка. Лена дружит с 
  Таней, гуляющей с кошкой. Определить, с каким животным гулял каждый из детей. 
  <BR>Подсказка: прежде всего составьте таблицу, как в примере 1. 
  <LI>Витя, Юра и Миша сидели на скамейке. В каком порядке они сидели, если 
  известно, что Юра сидел слева от Миши и справа от Вити. </LI></OL><BR 
clear=all><A 
href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/08_programm/index.html"><IMG 
alt="Предыдущий раздел" src="Логические&nbsp;задачи.files/prev.gif" 
border=0></A> <A 
href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/index.html"><IMG 
alt="Уровень выше" src="Логические&nbsp;задачи.files/up.gif" border=0></A> <A 
href="http://www.ctc.msiu.ru/materials/Book2/ch_10_prolog/10_arifm/index.html"><IMG 
alt="Следующий раздел" src="Логические&nbsp;задачи.files/next.gif" border=0></A> 
</BODY></HTML>
